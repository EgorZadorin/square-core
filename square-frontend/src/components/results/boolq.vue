<!-- Component for the Results. The user can see the results of each chosen skill here. Results can have different formats. -->
<template>
  <div class="d-flex">
    <div class="d-flex flex-column align-items-center">
      <div
          class="d-inline-flex align-items-center justify-content-center fs-2 bg-danger rounded-circle"
          style="width: 3.5rem; height: 3.5rem;">👎</div>
      <span class="badge rounded-pill bg-danger mt-2">{{ currentResults.no }}%</span>
    </div>
    <div class="progress flex-grow-1 align-self-center mx-2">
      <div
          class="progress-bar progress-bar-striped bg-danger"
          role="progressbar"
          :style="{ width: `${currentResults.no}%` }"
          :aria-valuenow="currentResults.no"
          aria-valuemin="0"
          aria-valuemax="100" />
      <div
          class="progress-bar progress-bar-striped bg-success"
          role="progressbar"
          :style="{ width: `${currentResults.yes}%` }"
          :aria-valuenow="currentResults.yes"
          aria-valuemin="0"
          aria-valuemax="100" />
    </div>
    <div class="d-flex flex-column align-items-center">
      <div
          class="d-inline-flex align-items-center justify-content-center fs-2 bg-success rounded-circle"
          style="width: 3.5rem; height: 3.5rem;">👍</div>
      <span class="badge rounded-pill bg-success mt-2">{{ currentResults.yes }}%</span>
    </div>
  </div>
</template>

<script>
import Vue from 'vue'

export default Vue.component('boolq', {
  props: ['skillResult'],
  computed: {
    currentResults() {
      let result = {}
      this.skillResult.results.forEach(res => {
        result[res.prediction_output.output] = Math.round(res.prediction_output.output_score * 100_000) / 1_000
      })
      return result
    }
  }
})
</script>
